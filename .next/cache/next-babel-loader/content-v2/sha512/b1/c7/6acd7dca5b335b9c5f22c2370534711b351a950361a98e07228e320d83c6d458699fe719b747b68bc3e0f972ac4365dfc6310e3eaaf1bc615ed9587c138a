{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { MongoClient } from 'mongodb';\nimport MeetUpList from '../components/meetups/MeetupList';\nimport Head from 'next/head';\n\nfunction HomePage(props) {\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"Nextjs Meetups \"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: \"browse these meetups pls\"\n      })]\n    }), /*#__PURE__*/_jsx(MeetUpList, {\n      meetups: props.meetups\n    })]\n  });\n}\n\nexport async function getStaticProps() {\n  const password = 'aUSjJhO7eUkOOC1t';\n  const username = 'learningnext';\n  const database = 'nextJsDB';\n  const url = `mongodb+srv://${username}:${password}@learning.j1yvg.mongodb.net/${database}?retryWrites=true&w=majority`;\n  const client = new MongoClient(url);\n  await client.connect();\n  const db = client.db();\n  const meetupsCollection = db.collection('meetups');\n  const loadedMeetups = await meetupsCollection.find({}).toArray();\n  client.close();\n  let meetups = [];\n\n  for (const meetup of loadedMeetups) {\n    meetups.push({\n      title: meetup.title,\n      address: meetup.address,\n      image: meetup.image,\n      description: meetup.description,\n      id: meetup._id.toString()\n    });\n  }\n\n  return {\n    props: {\n      meetups: meetups\n    } // props: { meetups: loadedMeetups },\n    // revalidate: 20,\n\n  };\n}\nexport default HomePage;","map":null,"metadata":{},"sourceType":"module"}